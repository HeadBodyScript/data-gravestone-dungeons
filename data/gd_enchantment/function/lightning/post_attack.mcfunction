execute at @s on attacker if items entity @s weapon.mainhand minecraft:bow[minecraft:enchantments={levels:{"gd_enchantment:lightning_bow":1}}] store result score @e[sort=nearest,limit=1] INT run random value 1..5
execute at @s on attacker if items entity @s weapon.mainhand minecraft:bow[minecraft:enchantments={levels:{"gd_enchantment:lightning_bow":2}}] store result score @e[sort=nearest,limit=1] INT run random value 1..4
execute at @s on attacker if items entity @s weapon.mainhand minecraft:bow[minecraft:enchantments={levels:{"gd_enchantment:lightning_bow":3}}] store result score @e[sort=nearest,limit=1] INT run random value 1..3
execute at @s on attacker if items entity @s weapon.mainhand minecraft:bow[minecraft:enchantments={levels:{"gd_enchantment:lightning_bow":4}}] store result score @e[sort=nearest,limit=1] INT run random value 1..2
execute if score @s INT matches 1 run function gd_enchantment:lightning/success